<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Yes/No Questions</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<h1> The Zodiac Test</h1>

<form id="ZodiacForm">
  <label for="q1"> What is your zodiac sign? </label>
  <select id="q1">
<!--      <option selected="true" style='display: none'></option>  -->
       <option hidden> --please select-- </option>

    <option value="Aries" >Aries</option>
    <option value="Taurus">Taurus</option>
    <option value="Gemini">Gemini</option>
    <option value="Cancer">Cancer</option>
    <option value="Leo">Leo</option>
    <option value="Virgo">Virgo</option>
    <option value="Libra">Libra</option>
    <option value="Scorpius">Scorpius</option>
    <option value="Sagittarius">Sagittarius</option>
    <option value="Capricornus">Capricornus</option>
    <option value="Aquarius">Aquarius</option>
    <option value="Pisces">Pisces</option>
  </select><br><br>

    <label for="q2"> What is your zodiac sign? </label>
  
  <select id="q2">
<!--      <option selected="true" style='display: none'></option>  -->
       <option hidden> --please select-- </option>

    <option value="Aries" >Aries</option>
    <option value="Taurus">Taurus</option>
    <option value="Gemini">Gemini</option>
    <option value="Cancer">Cancer</option>
    <option value="Leo">Leo</option>
    <option value="Virgo">Virgo</option>
    <option value="Libra">Libra</option>
    <option value="Scorpius">Scorpius</option>
    <option value="Sagittarius">Sagittarius</option>
    <option value="Capricornus">Capricornus</option>
    <option value="Aquarius">Aquarius</option>
    <option value="Pisces">Pisces</option>
  </select><br><br>

<button type="button" onclick="submitForm()">Submit</button>

<p>Compatability Score: <span id="yesCount">0</span></p>

</form>  

</body>
</html>

<script>
  function submitForm() {
  const astrotypes = ["Aries", "Taurus", "Gemini", "Cancer", "Leo", "Virgo", "Libra", "Scorpio", "Sagittarius", "Capricorn", "Aquarius", "Pisces"];
  let p1 = astrotypes.indexOf(document.getElementById("q1").value);
  let p2 = astrotypes.indexOf(document.getElementById("q2").value);

  let filePath = "percent_zodiac.txt";
  const fileStream = fs.createReadStream(filePath);
  const rl = readline.createInterface({
    input: fileStream,
    crlfDelay: Infinity
  });

    let linecount = 0;

  rl.on('line', (line) => {
    if(linecount == p1){
            const lineArray = line.split(' ');
             document.getElementById("yesCount").innerHTML = lineArray[p2];
    }
    const lineArray = line.split(' ');
    console.log("Array of words from line:", lineArray);
    linecount++;
    // You can process each lineArray here as needed
  });

  rl.on('close', () => {
    console.log('File reading completed.');
  });
}
  }
  
  
</script>

