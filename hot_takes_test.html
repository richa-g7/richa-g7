<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Yes/No Questions</title>
</head>

        <link rel="stylesheet" href="styles.css">
<body>
<h1><b>Yes/No Questions</b></h1>
<h2><u>PERSON 1 Answer the following questions:</u></h2>
<form>
        <h2>Air sip or waterfall?</h2>
        <div class="airsip-waterfall">
            <input type="radio" id="airsip" name="q1" value="Y">
            <label for="airsip">Air sip</label>
                &emsp;
            <input type="radio" id="waterfall" name="q1" value="N">
            <label for="waterfall">Waterfall</label>
        </div>

        <h2>Pineapple on Pizza?</h2>
        <div class="Pineapple on Pizza">
            <input type="radio" id="Yes" name="q2" value="Y">
            <label for="YeePine">Hell yeah!</label>
                &emsp;
            <input type="radio" id="No" name="q2" value="N">
            <label for="NayPine">Absolutely Not!</label>
        </div>

        <h2>Sitting across or next to someone?</h2>
        <div class="Across or next to">
            <input type="radio" id="Across" name="q3" value="Y">
            <label for="Across">Across, I want to see you</label>
                &emsp;
            <input type="radio" id="Next" name="q3" value="N">
            <label for="Next to">Next to, we are closer</label>
        </div>

        <h2>Love at first sight?</h2>
        <div class="First Sight?">
            <input type="radio" id="Yes" name="q4" value="Y">
            <label for="Yes">Yes, I'm a real yearner</label>
                &emsp;
            <input type="radio" id="No" name="q4" value="N">
            <label for="No">No! I have trust issues with my eyes!</label>
        </div>

        <h2>Can you have a best friend of the opposite sex?</h2>
        <div class="Friends">
            <input type="radio" id="Yes" name="q5" value="Y">
            <label for="Yes">Yes, why not?</label>
                &emsp;
            <input type="radio" id="No" name="q5" value="N">
            <label for="No">No! That should be me!</label>
        </div>

        <h2>Should toilet paper be over or under?</h2>
        <div class="TP">
            <input type="radio" id="Over" name="q6" value="Y">
            <label for="Over">Over, no chaos</label>
                &emsp;
            <input type="radio" id="Under" name="q6" value="N">
            <label for="Under">Under, for that surprise factor</label>
        </div>

        <h2>Handwritten note or gift?</h2>
        <div class="LoveLang">
            <input type="radio" id="Note" name="q7" value="Y">
            <label for="Note">Note, you can't buy a note</label>
                &emsp;
            <input type="radio" id="Gift" name="q7" value="N">
            <label for="Gift">Gift, love letters are kinda cringe </label>
        </div>

        <h2>Cats or Dogs?</h2>
        <div class="Pets">
            <input type="radio" id="Cats" name="q8" value="Y">
            <label for="Cats">Meooooow</label>
                &emsp;
            <input type="radio" id="Dogs" name="q8" value="N">
            <label for="Dogs">WOOF!! </label>
        </div>

        <h2>Gif or Gif?</h2>
        <div class="Pets">
            <input type="radio" id="Gif" name="q9" value="Y">
            <label for="Gif">Gif, duh</label>
                &emsp;
            <input type="radio" id="Jif" name="q9" value="N">
            <label for="Jif">Gif, obviously</label>
        </div>

        <h2><u><b>PERSON 2 Answer the following questions:</b></u></h2>

        
        <h2>Air sip or waterfall?</h2>
        <div class="airsip-waterfall">
            <input type="radio" id="airsip" name="a1" value="Y">
            <label for="airsip">Air sip</label>
                &emsp;
            <input type="radio" id="waterfall" name="a1" value="N">
            <label for="waterfall">Waterfall</label>
        </div>

        <h2>Pineapple on Pizza?</h2>
        <div class="Pineapple on Pizza">
            <input type="radio" id="Yes" name="a2" value="Y">
            <label for="YeePine">Hell yeah!</label>
                &emsp;
            <input type="radio" id="No" name="a2" value="N">
            <label for="NayPine">Absolutely Not!</label>
        </div>

        <h2>Sitting across or next to someone?</h2>
        <div class="Across or next to">
            <input type="radio" id="Across" name="a3" value="Y">
            <label for="Across">Across, I want to see you</label>
                &emsp;
            <input type="radio" id="Next" name="a3" value="N">
            <label for="Next to">Next to, we are closer</label>
        </div>

        <h2>Love at first sight?</h2>
        <div class="First Sight?">
            <input type="radio" id="Yes" name="a4" value="Y">
            <label for="Yes">Yes, I'm a real yearner</label>
                &emsp;
            <input type="radio" id="No" name="a4" value="N">
            <label for="No">No! I have trust issues with my eyes!</label>
        </div>

        <h2>Can you have a best friend of the opposite sex?</h2>
        <div class="Friends">
            <input type="radio" id="Yes" name="a5" value="Y">
            <label for="Yes">Yes, why not?</label>
                &emsp;
            <input type="radio" id="No" name="a5" value="N">
            <label for="No">No! That should be me!</label>
        </div>

        <h2>Should toilet paper be over or under?</h2>
        <div class="TP">
            <input type="radio" id="Over" name="a6" value="Y">
            <label for="Over">Over, no chaos</label>
                &emsp;
            <input type="radio" id="Under" name="a6" value="N">
            <label for="Under">Under, for that surprise factor</label>
        </div>

        <h2>Handwritten note or gift?</h2>
        <div class="LoveLang">
            <input type="radio" id="Note" name="a7" value="Y">
            <label for="Note">Note, you can't buy a note</label>
                &emsp;
            <input type="radio" id="Gift" name="a7" value="N">
            <label for="Gift">Gift, love letters are kinda cringe </label>
        </div>

        <h2>Cats or Dogs?</h2>
        <div class="Pets">
            <input type="radio" id="Cats" name="a8" value="Y">
            <label for="Cats">Meooooow</label>
                &emsp;
            <input type="radio" id="Dogs" name="a8" value="N">
            <label for="Dogs">WOOF!! </label>
        </div>

        <h2>Gif or Gif?</h2>
        <div class="Pets">
            <input type="radio" id="Gif" name="a9" value="Y">
            <label for="Gif">Gif, duh</label>
                &emsp;
            <input type="radio" id="Jif" name="a9" value="N">
            <label for="Jif">Gif, obviously</label>
        </div>
        

        
<!--   <button type="button" onclick="calculateYes()">Calculate Yeses</button> -->
         <button type="button" onclick="submitForm()">Submit</button>

<h2>Compatability Score: <span id="yesCount">0</span></h2>
</form>

<script>
        function submitForm() {
            let p1_answers = "";
            for (let i = 1; i <= 10; i++) {
                let radioBtns = document.getElementsByName("q" + i);
                let selectedValue = "";
                for (let j = 0; j < radioBtns.length; j++) {
                    if (radioBtns[j].checked) {
                        selectedValue = radioBtns[j].value;
                        break;
                    }
                }
                p1_answers += selectedValue;
            }

        let p2_answers = "";
            for (let i = 1; i <= 10; i++) {
                let radioBtns = document.getElementsByName("a" + i);
                let selectedValue = "";
                for (let j = 0; j < radioBtns.length; j++) {
                    if (radioBtns[j].checked) {
                        selectedValue = radioBtns[j].value;
                        break;
                    }
                }
                p2_answers += selectedValue;
            }

           if (p1_answers.length < 9) {
                alert("Person 1, Please answer all questions before submitting.");
                return;
           }

        if (p2_answers.length < 9) {
                alert("Person 2, Please answer all questions before submitting.");
                return;
           }


    var sharedCount = 0;

    // Iterate over each character of the strings
    for (var i = 0; i < p1_answers.length; i++) {
        // Compare characters at the same index
        if (p1_answers[i] === p2_answers[i]) {
            sharedCount++;
        }
    }
sharedCount = Math.trunc(sharedCount/9 * 100);
                
        document.getElementById('yesCount').textContent = sharedCount;
        var score = sharedCount; 

        if(sessionStorage.getItem("tests_taken") == null) {
                    sessionStorage.setItem("tests_taken", 1);
                    sessionStorage.setItem("score", score);
        } else {
                   
                var tt = parseInt(sessionStorage.getItem("tests_taken"));
                    var s = parseInt(sessionStorage.getItem("score"));                      
                    var new_score = Math.trunc( (s*tt + score) / (tt+1) );
                      tt += 1;           
                    sessionStorage.setItem("tests_taken", tt );
                    sessionStorage.setItem("score", new_score );
                }
            // sessionStorage.setItem("Hot take answers", answers); // Save answers to localStorage
           
        }
    </script>

        
</body>
</html>
